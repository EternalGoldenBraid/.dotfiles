program: train_new_loss.py
# method: bayes
method: grid
 
metric:
  # name: val_loss
  # goal: minimize
  # name: val.max_similarity
  # name: val.max_similarity
  name: val.pears_corr_abs
  goal: maximize
  # goal: minimize

# early_terminate:
#   type: hyperband
#   max_iter: 3000
#   s: 3

parameters:
  
  # Model
  model.epochs:
    # values: [3000]
    values: [1]
    # values: [2000]
  model.lr_start:
    values: [
      1e-2,
      # 1e-3,
      ]
  model.lr_end:
    values: [
      1e-5,
      # 1e-6,
      ]
  # model.lr:
    # values: [1e-3, 1e-4, 1e-5]
    # values: [1e-3]
  # dataset.lambda_:
  #   values: [0.1, 10., 100.]
  model.nheads:
    values: [1, 2]
  model.hidden:
    values: [8, 512]
    # values: [1024]
  model.nlayers:
    # values: [2, 4, 8]
    values: [2,4]
  
  # Generated Graphs
  dataset.source_pool:
    values: [
      # [ ['1'],
      #   ['7'],
      #   ['21'],
      #   ['4'],
      #   ['14'],
      #   ['0'],
      #   ['2'],
      #   ['8'],
      #   ['33'] 
      # ],
      [
        ['1'],
        ['30'],
        ['7'],
        ['21'],
      ],
      [
        ['1'],
        ['7'],
      ],
      # [ ['0'],
      #   ['2'],
      #   ['8'],
      #   ['33'] 
      # ]
    ]
    # values: [
    #   # ['1', '7' , '13', '1', '30'], 
    #   # ['1', '0' , '15', '2', '27'], 
    #   ['1'],
    #   ['7'],
    #   ['21'],
    #   ['4'],
    #   ['14'],
    #   ['0'],
    #   # ['1', '7' , '13', '1', '30'], 
    #   # ['1', '7' , '1'], 
    #   ['2'],
    #   ['8'],
    #   ['33'],
    # ]
  dataset.num_graphs:
    values: [800, 100]
  dataset.p_informed_activation:
    values: [1.0]
  dataset.p_spontaneous_activation:
    values: [0.0, 0.1]
  # dataset.transmission_probabilities:
  #   values: [
  #     [0.1, 0.1, 0.9],
  #     [0.3, 0.3, 0.4],
  #     [0.5, 0.5, 0.0],
  #     [0.9, 0.1, 0.0]
  #   ]
      

  # Data IO
  

  wandb.project_name:
    values: ['GraphInform']
  wandb.entity:
    values: ['nicklas']
  wandb.wandb_mode:
    values: ['online']
    # values: ['disabled']
      
      

command:
  - ${env}
  - python
  - ${program}
  - ${args_no_hyphens}